## 1\. 파일 생성 및 열기 기본 (Basic File Handling)

### 1.1 `open()` 함수와 파일 객체 📄

파일을 다루기 위한 첫 단계는 `open()` 함수를 사용하는 것입니다.

```python
파일_객체 = open(파일_이름, 파일_열기_모드)
```

### 1.2 파일 열기 모드

|   모드    | 설명                   | 특징                                                                                       |
| :-------: | :--------------------- | :----------------------------------------------------------------------------------------- |
| **`'r'`** | **읽기 모드** (Read)   | 파일을 읽기만 할 때 사용합니다.                                                            |
| **`'w'`** | **쓰기 모드** (Write)  | 파일에 내용을 씁니다. **파일이 존재하면 기존 내용을 모두 지우고**, 없으면 새로 생성합니다. |
| **`'a'`** | **추가 모드** (Append) | 파일의 **가장 마지막에** 새로운 내용을 덧붙입니다 (추가). 파일이 없으면 생성합니다.        |

### 1.3 `f.close()`의 중요성 🔒

파일 객체 `f`의 `close()` 메서드는 열린 파일 객체를 닫아줍니다.

- 파이썬이 프로그램을 종료할 때 자동으로 닫아주지만, 쓰기 모드 파일에서 **오류를 방지하고 리소스를 확보**하기 위해 명시적으로 닫아주는 것이 좋습니다.

### 1.4 파일 경로와 슬래시 (/) 🗺️

파이썬에서 파일 경로를 지정할 때는 \*\*슬래시(`/`)\*\*를 사용하거나, 역슬래시(`\`)를 사용할 경우 **두 번**(`\\`) 사용하거나 문자열 앞에 **`r`** 문자(raw string)를 붙여 이스케이프 문자(`\n`, `\t` 등)로 해석되는 것을 방지해야 합니다.

---

## 2\. 파일에 내용 쓰기 (`write()`)

파일을 쓰기 모드(`'w'` 또는 `'a'`)로 연 후, 파일 객체의 `write()` 메서드를 사용하여 데이터를 파일에 기록합니다.

```python
f = open("새파일.txt", 'w')
for i in range(1, 11):
    data = f"{i}번째 줄입니다.\n" # f-string 사용
    f.write(data) # 파일에 데이터 기록 (모니터 출력 대신)
f.close()
```

---

## 3\. 파일을 읽는 여러 가지 방법

파일을 읽기 모드(`'r'`)로 연 후, 필요에 따라 다양한 메서드를 사용할 수 있습니다.

### 3.1 `f.readline()` 📜

- 파일의 내용을 **한 줄씩** 읽어 반환합니다.
- 더 이상 읽을 내용이 없으면 \*\*빈 문자열(`''`)\*\*을 반환합니다.
- 전체 파일을 읽으려면 `while True:` 루프와 `if not line: break` 조건을 사용해야 합니다.

### 3.2 `f.readlines()` 📑

- 파일의 **모든 줄**을 읽어서, 각 줄을 요소로 가지는 **리스트**를 반환합니다.
- **주의**: 각 줄의 끝에 줄 바꿈 문자(`\n`)가 포함되어 있습니다.

### 3.3 `f.read()` 📖

- 파일의 **내용 전체**를 하나의 **큰 문자열**로 반환합니다.

### 3.4 파일 객체를 `for` 문과 함께 사용하기

파일 객체 자체를 `for` 루프에 넣으면, `f.readline()`과 유사하게 파일을 **줄 단위**로 순차적으로 읽을 수 있습니다.

```python
f = open("파일.txt", 'r')
for line in f:
    print(line) # line은 각 줄(\n 포함)
f.close()
```

---

## 4\. 파일 처리 주의사항 및 `with` 문

### 4.1 `with` 문과 함께 사용하기 (자동 close) ⭐

`with` 문을 사용하면 파일 객체가 `with` 블록을 벗어나는 순간 **자동으로 닫히게** 되므로, `f.close()`를 생략할 수 있어 안전하고 간결합니다.

```python
# with open("파일 이름", "모드") as 파일_객체:
with open("foo.txt", "w") as f:
    f.write("Life is too short, you need python")
# with 블록을 벗어나면 f.close()가 자동으로 호출됨
```

### 4.2 인코딩(Encoding) 명시 🌐

한글 등 아스키(ASCII) 외의 문자가 포함된 파일을 다룰 때는 \*\*`encoding="utf-8"`\*\*을 명시하는 것이 표준입니다. 이는 운영체제별 인코딩 차이로 인한 **문자 깨짐 현상**을 방지합니다.

```python
with open("한글파일.txt", "w", encoding="utf-8") as f:
    f.write("안녕하세요!")
```

### 4.3 `with` 문과 스코프 (Scope) 규칙

파이썬에서 `with`, `if`, `for` 등의 **블록 스코프** 안에서 선언된 변수는 블록 밖에서도 접근 가능합니다. (이는 함수 스코프와는 다른 파이썬의 특징입니다.)

```python
with open("test.txt", "w") as f:
    content = "Hello!"
print(content) # 정상 출력됨
```
